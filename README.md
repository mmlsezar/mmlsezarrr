# ربات تپچی تلگرام 🤖

این پروژه یک ربات تپچی پیشرفته برای تلگرام است که قابلیت‌های مختلفی برای مدیریت اکانت‌ها و ارسال پیام‌های تبلیغاتی ارائه می‌دهد.

## ویژگی‌ها ✨

- **مدیریت اکانت‌های متعدد**: امکان اضافه کردن و مدیریت چندین اکانت تلگرام
- **ارسال پیام‌های عادی**: ارسال پیام‌های تبلیغاتی با تنظیمات زمان‌بندی
- **فوروارد پیام**: امکان فوروارد پیام‌ها از کانال‌ها
- **مدیریت اشتراک**: سیستم اشتراک با محدودیت زمانی
- **پنل مدیریت**: پنل کامل برای مدیریت کاربران و تنظیمات
- **سیستم تیکت**: پشتیبانی از کاربران
- **بک‌آپ خودکار**: پشتیبان‌گیری از داده‌ها
- **گزارش‌گیری**: لاگ کامل فعالیت‌ها

## نیازمندی‌ها 📋

- Python 3.8+
- کتابخانه‌های مورد نیاز (requirements.txt)
- اکانت توسعه‌دهنده تلگرام برای دریافت API

## نصب و راه‌اندازی 🚀

### 1. کلون کردن پروژه
```bash
git clone [repository-url]
cd tabchi-bot
```

### 2. نصب وابستگی‌ها
```bash
pip install -r requirements.txt
```

یا نصب دستی:
```bash
      pip install python-telegram-bot telethon pytz sqlalchemy
```

### 3. تنظیم فایل api.json

**مهم**: این فایل حاوی اطلاعات حساس API است و باید توسط مدیر سیستم تنظیم شود.

#### ساختار فایل api.json:

```json
{
  "1": {
    "api_id": YOUR_API_ID,
    "api_hash": "YOUR_API_HASH",
    "accounts_logged_in": []
  },
  "2": {
    "api_id": ANOTHER_API_ID,
    "api_hash": "ANOTHER_API_HASH",
    "accounts_logged_in": []
  }
}
```

#### راهنمای تنظیم API:

1. **دریافت API_ID و API_HASH**:
   - به [my.telegram.org](https://my.telegram.org) مراجعه کنید
   - با شماره تلفن خود وارد شوید
   - روی "API development tools" کلیک کنید
   - فرم را پر کنید:
     - App title: نام دلخواه (مثلاً "My Tabchi Bot")
     - Short name: نام کوتاه (مثلاً "tabchi")
     - URL: اختیاری
     - Platform: Desktop
     - Description: توضیح کوتاه
   - `api_id` و `api_hash` را دریافت و یادداشت کنید

2. **تنظیم فایل api.json**:
   ```json
   {
     "1": {
       "api_id": 12345678,
       "api_hash": "abcdef1234567890abcdef1234567890",
       "accounts_logged_in": []
     },
     "2": {
       "api_id": 87654321,
       "api_hash": "fedcba0987654321fedcba0987654321",
       "accounts_logged_in": []
     }
   }
   ```

3. **نکات مهم**:
   - می‌توانید چندین API مختلف اضافه کنید (1، 2، 3، ...)
   - هر API می‌تواند چندین اکانت را پشتیبانی کند
   - `accounts_logged_in` در ابتدا خالی است و هنگام لاگین اکانت‌ها پر می‌شود
   - از API های مختلف برای توزیع بار استفاده کنید

### 4. تنظیم ربات تلگرام

1. **ایجاد ربات**:
   - به [@BotFather](https://t.me/BotFather) در تلگرام مراجعه کنید
   - دستور `/newbot` را ارسال کنید
   - نام و یوزرنیم ربات را انتخاب کنید
   - توکن ربات را دریافت کنید

2. **تنظیم توکن در کد**:
   ```python
   BOT_TOKEN = "YOUR_BOT_TOKEN_HERE"
   ```

3. **تنظیم ADMIN_ID**:
   ```python
   ADMIN_ID = YOUR_TELEGRAM_USER_ID
   ```




همه این ها در لاین 880 است





### 5. اجرای ربات
```bash
python Tapchi.py
```

## ساختار فایل‌ها 📁

```
tabchi-bot/
├── Tapchi.py                 # فایل اصلی ربات
├── admin_panel.py           # پنل مدیریت
├── admin_handlers.py        # هندلرهای مدیریت
├── api.json                 # تنظیمات API (حساس)
├── requirements.txt         # وابستگی‌ها
├── README.md               # راهنما
└── data/                   # پوشه داده‌ها
    ├── sessions/           # فایل‌های جلسه
    ├── subscriptions.json  # اطلاعات اشتراک
    ├── tapchi_accounts.json # اکانت‌های تپچی
    ├── balances_tapchi.json # موجودی کاربران
    ├── tickets.json        # تیکت‌های پشتیبانی
    ├── maintenance_mode.json # حالت تعمیر
    └── admin_logs/         # لاگ‌های مدیریت
```

## راهنمای استفاده 📖

### برای کاربران عادی:

1. **شروع ربات**: `/start`
2. **افزودن اکانت**: از منوی اصلی گزینه "افزودن اکانت" را انتخاب کنید
3. **مدیریت اکانت‌ها**: مشاهده و مدیریت اکانت‌های اضافه شده
4. **تنظیم پیام‌ها**: تنظیم پیام‌های تبلیغاتی و زمان‌بندی ارسال
5. **پشتیبانی**: ارسال تیکت به پشتیبانی

### برای مدیران:

1. **پنل مدیریت**: `/admin`
2. **مدیریت کاربران**: مشاهده و مدیریت تمام کاربران
3. **تنظیم اشتراک**: افزودن/تمدید اشتراک کاربران
4. **مشاهده آمار**: آمار کامل استفاده از ربات
5. **پاسخ به تیکت‌ها**: پاسخگویی به درخواست‌های کاربران

## امنیت 🔒

### نکات امنیتی مهم:

1. **محافظت از api.json**:
   - این فایل را در git قرار ندهید
   - دسترسی‌های فایل را محدود کنید
   - از پسورد قوی برای سرور استفاده کنید

2. **محافظت از توکن ربات**:
   - توکن ربات را در متغیرهای محیطی قرار دهید
   - از `.env` فایل استفاده کنید

3. **بک‌آپ منظم**:
   - از پوشه `data` بک‌آپ منظم تهیه کنید
   - فایل‌های session را نگهداری کنید

## مشکلات متداول 🔧

### خطا در اتصال API:
- بررسی کنید `api_id` و `api_hash` صحیح باشد
- اتصال اینترنت را بررسی کنید
- محدودیت‌های IP را بررسی کنید

### خطا در لاگین اکانت:
- شماره تلفن را به درستی وارد کنید
- کد تأیید را سریع وارد کنید
- در صورت وجود تأیید دو مرحله‌ای، پسورد را وارد کنید

### خطا در ارسال پیام:
- محدودیت‌های اسپم تلگرام را بررسی کنید
- تنظیمات زمان‌بندی را تنظیم کنید
- وضعیت اکانت‌ها را بررسی کنید

## توسعه و سفارشی‌سازی 🛠️

### اضافه کردن ویژگی جدید:
1. در فایل `Tapchi.py` handler جدید اضافه کنید
2. فایل‌های داده مورد نیاز را تعریف کنید
3. توابع پردازش را پیاده‌سازی کنید

### تغییر پیام‌ها:
- پیام‌های ربات در فایل اصلی قابل تغییر هستند
- از فرمت Markdown پشتیبانی می‌شود

## پشتیبانی 💬

در صورت بروز مشکل یا نیاز به راهنمایی:

1. ابتدا مستندات را مطالعه کنید
2. لاگ‌ها را بررسی کنید
3. در صورت لزوم، تیکت پشتیبانی ارسال کنید

## مجوز 📄

این پروژه تحت مجوز [نوع مجوز] منتشر شده است.

## تشکر 🙏

از تمام توسعه‌دهندگان و کاربرانی که در بهبود این پروژه مشارکت کرده‌اند، تشکر می‌کنیم.

---

**نکته**: این ربات صرفاً برای اهداف آموزشی و استفاده شخصی طراحی شده است. از آن برای ارسال اسپم یا محتوای نامناسب استفاده نکنید و قوانین تلگرام را رعایت کنید.
"# mmlsezarrr" 
"# mmlsezarrr" 
